{% extends "base.html" %}
{% block title %}Section Roster{% endblock %}

{% block content %}
<h2 class="k-title fade">Section Roster</h2>

<h3>{{ section.course_ID }} â€” Section {{ section.section_no }} ({{ section.semester }})</h3>

<table class="k-table fade">
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Grade</th>
        <th>Update</th>
    </tr>

    {% for r in roster %}
    <tr>
        <td>{{ r.first_name }} {{ r.last_name }}</td>
        <td>{{ r.email }}</td>

        <td>
            <form action="/instructor/grades/update" method="POST" style="display:flex; gap:8px;">
                <input type="hidden" name="enrollment_id" value="{{ r.enrollment_ID }}">
                <input type="hidden" name="section_id" value="{{ section.section_ID }}">

                <select name="grade" class="k-input">
                    <option value="" {% if not r.grade %}selected{% endif %}>--</option>
                    <option value="A" {% if r.grade=="A" %}selected{% endif %}>A</option>
                    <option value="B" {% if r.grade=="B" %}selected{% endif %}>B</option>
                    <option value="C" {% if r.grade=="C" %}selected{% endif %}>C</option>
                    <option value="D" {% if r.grade=="D" %}selected{% endif %}>D</option>
                    <option value="F" {% if r.grade=="F" %}selected{% endif %}>F</option>
                </select>

        </td>

        <td>
            <button class="k-button">Save</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}